---
title: Full-Text Search
description: Learn how to perform full-text search with Orama Cloud.
---

Once you have your SDK for your preferred language installed, you can start performing full-text, vector, hybrid, and AI-Powered NLP Search queries on Orama Cloud.

The client exposes a simple `search` method that can be used to query the index:

<Tabs items={['JavaScript', 'Python', 'Rust']}>
  <Tab value="Javascript">
  ```typescript
  import { OramaCloud } from '@orama/core'

  const orama = new OramaCloud({
    projectId: '<your_project_id>',
    apiKey: '<your_private_api_key>',
  })

  const searchResults = await orama.search({
    term: 'The quick brown fox jumps over the lazy dog',
  })
  ```
  </Tab>
  <Tab value="Python">
  ```python
  import asyncio
  from oramacore_client import OramaCloud

  async def main():
      orama = OramaCloud(
          project_id="<your_project_id>",
          api_key="<your_private_api_key>",
      )
      search_results = await orama.search(
          term="The quick brown fox jumps over the lazy dog"
      )
      print(search_results)

  if __name__ == "__main__":
      asyncio.run(main())
  ```
  </Tab>
  <Tab value="Rust">
  ```rust
  use oramacore_client::OramaCloud;

  #[tokio::main]
  async fn main() {
      let orama = OramaCloud::new("<your_project_id>", "<your_private_api_key>");

      let search_results = orama
          .search("The quick brown fox jumps over the lazy dog")
          .await
          .unwrap();

      println!("{:?}", search_results);
  }
  ```
  </Tab>
</Tabs>

Although the example above contains the bare minimum setup, you can actually perform more complex queries by using the following options:


| Parameter    | Description                                                                                                         | Default        |
| ------------ | ------------------------------------------------------------------------------------------------------------------- | -------------- |
| `term`       | The search term.                                                                                                    | -              |
| `properties` | The properties to search in. Should be an array of strings (for example: `["title", "description", "author.name"]`) or `undefined` when searching on all properties. | -              |
| `mode`       | The search mode. Can be `fulltext`, `vector`, or `hybrid`.                                                          | `fulltext`     |
| `where`      | A filter to apply to the search results.                                                                            | -              |
| `threshold`  | The percentage of matches required to return a document. Read more                                                  | `0`            |
| `exact`      | Whether to use exact matching.                                                                                      | `false`        |
| `sortBy`     | The property to sort the search results by.                                                                         | -              |

Here's an example of a more complex query using some of the fields above:

<Tabs items={['JavaScript', 'Python', 'Rust']}>
  <Tab value="Javascript">
  ```typescript
  import { OramaCloud } from '@orama/core'

  const orama = new OramaCloud({
    projectId: '<your_project_id>',
    apiKey: '<your_private_api_key>',
  })

  const searchResults = await orama.search({
    term: 'Stylish shoes',
    where: {
      price: {
        lte: 100
      }
    },
    exact: true,
    sortBy: {
      property: 'price',
      order: 'DESC'
    }
  })
  ```
  </Tab>
  <Tab value="Python">
  ```python
  import asyncio
  from oramacore_client import OramaCloud

  async def main():
      orama = OramaCloud(
          project_id="<your_project_id>",
          api_key="<your_private_api_key>",
      )
      search_results = await orama.search(
          term="Stylish shoes",
          where={
              "price": {"lte": 100}
          },
          exact=True,
          sort_by={
              "property": "price",
              "order": "DESC"
          }
      )
      print(search_results)

  if __name__ == "__main__":
      asyncio.run(main())
  ```
  </Tab>
  <Tab value="Rust">
  ```rust
  use oramacore_client::{OramaCloud, SearchOptions, SortBy, Order};
  use std::collections::HashMap;

  #[tokio::main]
  async fn main() {
      let orama = OramaCloud::new("<your_project_id>", "<your_private_api_key>");

      let mut where_filter = HashMap::new();

      where_filter.insert(
          "price".to_string(),
          serde_json::json!({ "lte": 100 })
      );

      let search_options = SearchOptions {
          term: "Stylish shoes".to_string(),
          where_filter: Some(where_filter),
          exact: Some(true),
          sort_by: Some(SortBy {
              property: "price".to_string(),
              order: Order::Desc,
          }),
          ..Default::default()
      };

      let search_results = orama
          .search(search_options)
          .await
          .unwrap();

      println!("{:?}", search_results);
  }
  ```
  </Tab>
</Tabs>

### Sorting

You can sort the search results by a property using the `sortBy` parameter. The value of `sortBy` should be the name of the property you want to sort by.
For example, if you want to sort by `age`, you can do so by setting `sortBy.property` to `"age"`:

```json
{
  "term": "engineer",
  "sortyBy": {
    "property": "age",
    "order": "DESC" // or "ASC"
  }
}
```

By default, the order is ascending (`ASC`). If you want to sort in descending order, you can set `sortBy.order` to `"DESC"`.

### Where Filters

At index time, Orama will index different datatypes in different ways. For example, a `string` will be indexed differently than a `number` or a `boolean`.

When performing a search, you can use the `where` parameter to filter the search results based on the datatype of the property.

#### Filtering Strings

**Important**: OramaCore does not support filtering strings with **more** than 25 ASCII characters.

To filter strings, you can use the following API:

```json
{
  "term": "John Doe",
  "where": {
    "job": "Software Engineer"
  }
}
```

#### Filtering Numbers

To filter numbers, you can use the following operators:

| Operator  | Description              | Example                                     |
| --------- | ------------------------ | ------------------------------------------- |
| `eq`      | Equal to                 | `{"where": {"age": {"eq": 25}}}`            |
| `lt`      | Less than                | `{"where": {"age": {"lt": 25}}}`            |
| `lte`     | Less than or equal to    | `{"where": {"age": {"lte": 25}}}`           |
| `gt`      | Greater than             | `{"where": {"age": {"gt": 25}}}`            |
| `gte`     | Greater than or equal to | `{"where": {"age": {"gte": 25}}}`           |
| `between` | Between two values       | `{"where": {"age": {"between": [20, 30]}}}` |

So a full query complete with a `where` filter might look like this:

```json tab='JSON'
{
  "term": "John Doe",
  "where": {
    "age": {
      "gte": 25
    }
  }
}
```

#### Filtering Dates

Filtering on dates is exactly the same as filtering on numbers, since dates are stored as timestamps (milliseconds since epoch). You can use the same operators as for numbers.

#### Filtering Booleans

To filter booleans, you can use the following operators:

| Operator | Description | Example                           |
| -------- | ----------- | --------------------------------- |
| `true`   | True        | `{"where": {"is_active": true}}`  |
| `false`  | False       | `{"where": {"is_active": false}}` |

So a full query complete with a `where` filter might look like this:

```json
{
  "term": "John Doe",
  "where": {
    "is_active": true
  }
}
```

### Conjunctive and Disjunctive Filters

With Orama Cloud, you can combine multiple filters using the `and` and `or` operators.

#### "AND" Filters

Let's pretend for a moment that we're looking for a pizzeria within a certain radius, but it must also be open to pets and it must have a rating of at least 4 stars.

```json
{
  "term": "Pizzeria",
  "where": {
    "and": [
      {
        "pet_friendly": true
      },
      {
        "rating": {
          "gte": 4
        }
      },
      {
        "location": {
          "radius": {
            "coordinates": { "lat": 45.2624, "lon": 9.0814 },
            "unit": "km",
            "value": 10,
            "inside": true
          }
        }
      }
    ]
  }
}
```

In this case, Orama will return all the pizzerias that meet all the criteria (pet friendly, rating >= 4, location within 10km from the given coordinates).

#### "OR" Filters

Now let's say we want to find all the pizzerias that are either open to pets or have a rating of at least 4 stars.

```json
{
  "term": "Pizzeria",
  "where": {
    "or": [
      {
        "pet_friendly": true
      },
      {
        "rating": {
          "gte": 4
        }
      }
    ]
  }
}
```

#### Combining "AND" and "OR" Filters

You can combine "AND" and "OR" filters to create more complex queries. For example, let's say we want to find all the pizzerias that are either open to pets or have a rating of at least 4 stars, but only within a 10km radius of the given coordinates.

```json
{
  "term": "Pizzeria",
  "where": {
    "and": [
      {
        "or": [
          {
            "pet_friendly": true
          },
          {
            "rating": {
              "gte": 4
            }
          }
        ]
      },
      {
        "location": {
          "radius": {
            "coordinates": { "lat": 45.2624, "lon": 9.0814 },
            "unit": "km",
            "value": 10,
            "inside": true
          }
        }
      }
    ]
  }
}
```

In this case, Orama will return all the pizzerias that meet either of the criteria (pet friendly or rating >= 4) and are located within 10km from the given coordinates.

### Understanding the Orama Threshold Property

The `threshold` property in Orama controls the minimum/maximum number of results to return when performing a search operation. It helps filter out potentially irrelevant results, especially with long search queries.

#### Example Data

Let's consider these four documents:

```json
[
  { "title": "Blue t-shirt, slim fit" },
  { "title": "Blue t-shirt, regular fit" },
  { "title": "Red t-shirt, slim fit" },
  { "title": "Red t-shirt, oversize fit" }
]
```

#### Search Behavior Without Threshold

If we search for `regular fit`:

```json
{
  "term": "regular fit"
}
```

OramaCore will return:

```json
{
  "count": 4, // 4 results!
  "hits": [...],
  "elapsed": {...}
}
```

**Why four results?** While only one document contains the exact phrase "regular fit", OramaCore returns all documents that match any of the search terms. In this case, all documents contain the word "fit", so they're all included in the results.

#### How Threshold Works

The `threshold` property is a number between `0` and `1` representing the percentage of matching terms required for a document to be included in results:

* **threshold: 0** (default) - Returns all documents matching ANY search term
* **threshold: 1** - Returns only documents matching ALL search terms
* **threshold: 0.5** - Returns documents with at least 50% of search terms

#### Examples

**With threshold: 0 (default)**

```json
{
  "term": "slim fit"
}
```

Returns all documents containing either "slim" OR "fit" (all 4 documents in our example).

**With threshold: 1**

```json
{
  "term": "slim fit",
  "threshold": 1
}
```

Returns only documents containing BOTH "slim" AND "fit" (only the 2 documents with "slim fit").

**With threshold: 0.5**

```json
{
  "term": "slim fit",
  "threshold": 0.5
}
```

Prioritizes documents containing both "slim" and "fit", then returns 50% of documents containing either term.

**Real-World Application**

For large document collections (e.g., 1 million documents), using an appropriate threshold becomes crucial. Long search queries like "red t-shirt with long sleeves and a motorbike printed on the front" could match too many irrelevant documents without a proper threshold setting.

## GeoSearch

When inserting a document that contains an object with just two properties `lat` and `lon`, Orama will automatically index it as a GeoPoint. This allows you to perform geospatial searches using the `where` filters.

### Searching by Radius

You can search for documents within a certain radius of a given point:

```json
{
  "term": "Pizzeria",
  "where": {
    "location": {
      "radius": {
        "coordinates": { "lat": 45.2624, "lon": 9.0814 },
        "unit": "km",
        "value": 10,
        // true means the search will return documents within the specified radius.
        // false means the search will return documents outside the specified radius.
        "inside": true
      }
    }
  }
}
```

### Searching by Bounding Box

You can search for documents within a certain bounding box of a given point:

```json
{
  "term": "Pizzeria",
  "where": {
    "location": {
      "polygon": {
        "vertices": [
          { "lat": 45.2624, "lon": 9.0814 },
          { "lat": 45.1995, "lon": 9.0979 },
          { "lat": 45.2324, "lon": 9.1418 }
        ],
        // true means the search will return documents within the specified radius.
        // false means the search will return documents outside the specified radius.
        "inside": true
      }
    }
  }
}
```
